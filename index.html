<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover">
  <title>ระบบจองคิวออนไลน์ คลินิคทันตกรรม โรงพยาบาลเขาชัยสน</title>
  
  <link rel="stylesheet" href="css/style.css" media="all">
</head>
<body>
  <!-- <p id="os"><b>OS:</b> </p>
  <p id="language"><b>Language:</b> </p>
  <p id="version"><b>Version:</b> </p>
  <p id="isInClient"><b>isInClient:</b> </p>
  <p id="accessToken"><b>AccessToken:</b> </p>
  <img id="pictureUrl">
  <p id="userId"><b>userId:</b> </p>
  <p id="displayName"><b>displayName:</b> </p>
  <p id="statusMessage"><b>statusMessage:</b> </p>
  <p id="decodedIDToken"><b>email:</b> </p>
  <p id="type"><b>type:</b> </p>
  <p id="viewType"><b>viewType:</b> </p>
  <p id="utouId"><b>utouId:</b> </p>
  <p id="roomId"><b>roomId:</b> </p>
  <p id="groupId"><b>groupId:</b> </p>
  <p id="friendship"><b>isFriendship:</b> </p>
  <p id="scanCode"><b>Code:</b> </p>
  <p id="isLoggedIn"><b>isLoggedIn:</b> </p>
  <p id="universalLink1"><b>Universal Link:</b> </p>
  <p id="universalLink2"><b>Universal Link with Query params:</b> </p>
  <p><a href="liff/path/?param=9">Link to Path</a></p>

  <button id="btnMsg" onclick="sendMsg()">Send Message</button>
  <button id="btnShare" onclick="shareMsg()">Share Target Picker</button>
  <button onclick="openWindow()">Open Window</button>
  <button id="btnScanCode" onclick="scanCode()">Scan Code</button>
  <button id="btnLogOut" onclick="logOut()">Log Out</button>
  <button id="btnClose" onclick="closed()">Close</button> -->
  <h1>ระบบจองคิวออนไลน์</h1>
  <h2>คลินิคทันตกรรม</h2>
  <h2>รพ.เขาชัยสน</h2>

  <form id = "bookingForm"  action="/submit_booking" method="post">
      <label for="name">ชื่อ:</label>
      <input type="text" id="name" name="name" required>

      <label for="email">นามสกุล:</label>
      <input type="text" id="lastname" name="lastname" required>

      <label for="phone">เลขประจำตัวประชาชน:</label>
      <input type="text" id="cid" name="cid" required>

      <label for="date">Date:</label>
      <input type="date" id="date" name="date" required>

      <button type="submit"  onclick="submitForm()" >ยืนยันการจอง</button>
  </form>



  <!-- <script src="js/vconsole.min.js"></script> -->
  <!-- <script>
    var vConsole = new VConsole()
    console.log("Hello World!")
  </script> -->

  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <script>
    function createUniversalLink() {
    }

    async function shareMsg() {
    }

    function logOut() {
    }

    function closed() {
    }

    async function scanCode() {
    }

    function openWindow() {
    }

    async function getFriendship() {
    }

    async function sendMsg() {
    }

    function getContext() {
    }

    async function getUserProfile() {
    }

    function getEnvironment() {

    }

    function submitForm() {
    const form = document.getElementById('bookingForm');
    const formData = new FormData(form);

    fetch('https://script.google.com/macros/s/AKfycbykOlvHskIBjHTg3zHCmDNDxdMwCC3I5vr3p1xr8W9I87YX-zZLTL68xRdRoVi4mUlH/exec', {
        method: 'POST',
        body: JSON.stringify(Object.fromEntries(formData.entries())),
        headers: {
            'Content-Type': 'application/json',
        },
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.text();
    })
    .then(data => {
        console.log(data);
        // Optionally, you can redirect the user or perform other actions after successful submission
    })
    .catch(error => {
        console.error('There was a problem with the fetch operation:', error);
    });
}
    async function main() {
      alert("LINE Developers x Skooldio")
      await liff.init({ liffId: "https://liff.line.me/2001640177-Znly18NJ" })
      // getEnvironment()
      // getUserProfile()
      // getContext()
      // getFriendship()
      // createUniversalLink()
    }
    main()
  </script>
</body>
</html>
